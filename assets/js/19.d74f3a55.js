(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{477:function(e,n,t){"use strict";t.r(n);var r=t(9),a=Object(r.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"verynginx"}},[e._v("Verynginx")]),e._v(" "),t("h2",{attrs:{id:"公司需求"}},[e._v("公司需求")]),e._v(" "),t("p",[e._v("新上的官网能实现安全防护功能。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("在网络上调研了一下，最终在github里面找了一个不错的开源WAF项目verynginx。   \n地址：(https://github.com/alexazhou/VeryNginx/tree/master/verynginx)。\n感谢作者Alexazhou。\n")])])]),t("ul",[t("li",[e._v("环境：linux centos8 docker")])]),e._v(" "),t("p",[e._v("首先我们在服务器上运行该容器，至于docker的镜像制作过程这里就跳过，直接上docker镜像资源：\n"),t("code",[e._v("zhoushoujian/very-nginx:latest")])]),e._v(" "),t("h2",{attrs:{id:"关于该dockerhub镜像"}},[e._v("关于该dockerhub镜像")]),e._v(" "),t("ul",[t("li",[e._v("关于该dockerhub镜像：")])]),e._v(" "),t("p",[e._v("软件主目录："),t("code",[e._v("/opt/verynginx/")])]),e._v(" "),t("ul",[t("li",[e._v("部署阶段")])]),e._v(" "),t("p",[e._v("调试阶段没有挂载目录：")]),e._v(" "),t("p",[t("code",[e._v("docker run -dit --name very-nignx-waf -p 80:80 -p 443:443 zhoushoujian/very-nginx")])]),e._v(" "),t("h2",{attrs:{id:"正式部署过程"}},[e._v("正式部署过程")]),e._v(" "),t("p",[e._v("将调试好的docker制作成镜像以便后面使用，并且加入-v 目录挂载。将数据挂载到宿主机目录下。")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker commit very-nignx-waf ${YourDockerImageName}:latest\n#example:\n    docker commit very-nignx-waf zhoushoujian/very-nginx:latest\n    docker images #查看制作好的镜像，以后启动都可以使用该镜像运行容器，类似于一个snap快照。\n")])])]),t("p",[e._v("正式的容器运行命令：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker run -dit -p 80:80 -p 443:443 -v /docker/verynginx/verynginx:/opt/verynginx/verynginx -v /docker/verynginx/openresty/nginx/logs:/opt/verynginx/openresty/nginx/logs/ zhoushoujian/very-nginx\n")])])]),t("p",[e._v("运行成功之后，既可以访问"),t("code",[e._v("http://IP/vn/index.html")]),e._v("查看。默认账户密码均为："),t("code",[e._v("verynginx")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200703113113177.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI4Mzk5MzU1,size_16,color_FFFFFF,t_70",alt:""}}),e._v(" "),t("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200703113038889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI4Mzk5MzU1,size_16,color_FFFFFF,t_70",alt:""}}),e._v("\n到这里一个verynginx就部署成功了，后续配置和使用可以查看官方github文档，这里就不做累述了。")])])}),[],!1,null,null,null);n.default=a.exports}}]);